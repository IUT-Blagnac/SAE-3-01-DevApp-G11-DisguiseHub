RewriteEngine On

# Redirection d'erreurs

ErrorDocument 400 /error/400.html
ErrorDocument 401 /error/401.html
ErrorDocument 403 /error/403.html
ErrorDocument 404 /error/404.html
ErrorDocument 503 /error/503.html

# Suppression des extensions de fichiers

Options +MultiViews +FollowSymLinks
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R,L,NC]
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.html [NC]
RewriteRule ^ %1 [R,L,NC]

# Interdire le directory listing

Options -Indexes

# Redirection vers non "www."

RewriteBase /
RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
RewriteRule ^(.*)$ https://%1/$1 [R=301,L]

# Autoriser les cookies ext√©rieurs

Header edit Set-Cookie ^(.*)$ $1;HttpOnly;SameSite=Lax